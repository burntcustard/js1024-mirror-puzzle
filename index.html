<meta name=viewport content="initial-scale=1"><p id=a style=display:flex;height:3in></p><button id=b style=width:3in;height:3em>Start</button><script>navigator.mediaDevices.getUserMedia({video:1}).then((t=>{e=document,i="createElement",n=()=>o.map(((t,e)=>t.style.cssText=`position:absolute;overflow:hidden;width:1in;height:1in;transition:all.4s;transform:translate(${e%3}in,${~~(e/3)}in);padding:0`)),o=[];for(l=0;9>l;l++){let r=e[i](8>l?"button":"i");if(o.push(r),r.t=l,a.append(r),8>l){let a=e[i]("video");r.append(a),a.srcObject=t;let{height:h,width:s,i:d}=t.getTracks()[0].getSettings();alert(`Number of tracks: ${t.getTracks().length}, height: ${h}, width: ${s}, aspectRatio: ${d}`),h>s?a.width=288:a.height=288,a.style.transform=`translate(-${l%3}in,-${~~(l/3)}in)scaleX(-1)`,a.oncanplay=()=>a.play(),r.onclick=()=>{t=o.indexOf(r),e=o.findIndex((t=>8==t.t));(t>2&&8==o[t-3].t||6>t&&8==o[t+3].t||t%3>0&&8==o[t-1].t||2>t%3&&8==o[t+1].t)&&([o[t],o[e]]=[o[e],o[t]],n(),o.every(((t,e)=>t.t==e))&&(b.innerText="You win! Try again?"))}}}b.onclick=()=>{o.sort((()=>Math.random()-.5)),n(),b.innerText="Shuffle"},n()}))</script>